# AI Coach Web

AI がコードの**解説・生成・修正**をサポートする Web アプリ。OpenAI API を使用してコードの理解と開発を支援します。

![ai-coach-demo](demo.png)

## 機能

### コード解説
- **初心者/中級者/上級者向けの解説レベル切り替え**
- **カジュアル/通常/フォーマルの文体選択**
- **リアルタイムストリーミング表示**

### コード生成・修正
- **自然言語プロンプトによるコード生成**
- **既存コードの AI による修正・改善**
- **複数言語対応**（TypeScript, JavaScript, Python, Go, Ruby, PHP）

### バージョン管理
- **コードスナップショットの保存・復元**
- **バージョン間の差分解説**
- **ビジュアルなバージョン履歴表示**

## クイックスタート

```bash
# クローン
git clone https://github.com/kotahashihama/aicoach-web.git
cd aicoach-web

# インストール
pnpm install

# 開発サーバー起動
pnpm dev
```

OpenAI API キーの設定:

- 環境変数: `.env.example` を `.env` にコピーして `VITE_OPENAI_API_KEY` を設定
- またはアプリ内の設定モーダル（歯車アイコン）から入力

## 使い方

### 基本的な使い方

1. **API キーを設定**（初回のみ）
   - ツールバーの歯車アイコンから設定モーダルを開く
   - OpenAI API キーを入力して保存
2. **言語を選択**
   - ドロップダウンから解説したいコードの言語を選択
3. **コードを入力**
   - Monaco エディタに解説したいコードを入力または貼り付け
4. **解説設定を選択**
   - **レベル**: 初心者/中級者/上級者
   - **文体**: カジュアル/通常/フォーマル
5. **「このコードを解説」をクリック**
   - 右側のパネルに AI による解説がストリーミング表示されます

### コード生成・修正機能

1. **プロンプト入力**
   - 画面下部のテキストエリアに自然言語で指示を入力
   - 例: "エラーハンドリングを追加して"
2. **生成実行**
   - `Ctrl+Enter`（Mac では `Cmd+Enter`）で生成開始
   - または「生成」ボタンをクリック
3. **結果確認**
   - エディタに生成されたコードが表示されます
   - 必要に応じて手動で編集可能

### バージョン管理機能

1. **バージョン保存**
   - コードを編集後、自動的にスナップショットが保存される
2. **履歴表示**
   - 左側のサイドバーでバージョン履歴を確認
3. **バージョン選択**
   - 任意のバージョンをクリックして復元
4. **差分解説**
   - ベースとヘッドのバージョンを選択
   - 「変更差分を解説」をクリックして変更内容を解説

### テーマとレイアウト

- **テーマ切り替え**: ツールバーの太陽/月アイコン
- **パネルリサイズ**: エディタと解説パネル間の境界をドラッグ
- **設定保存**: テーマやレイアウトは自動的に保存されます

## 技術スタック

- **Frontend**: React 19 + TypeScript 5.9 + Vite 7
- **Editor**: Monaco Editor 4
- **Styling**: vanilla-extract
- **Markdown**: react-markdown + react-syntax-highlighter
- **Validation**: Zod 4
- **AI**: OpenAI API (gpt-4o-mini)
- **Node.js**: >=22.12.0
- **パッケージマネージャ**: pnpm 10.15.0

## 開発

詳細は [CLAUDE.md](./CLAUDE.md) を参照

```bash
pnpm dev        # 開発サーバー起動
pnpm build      # プロダクションビルド
pnpm preview    # ビルド結果をプレビュー
pnpm tsc --noEmit   # 型チェック
pnpm lint       # ESLint チェック
pnpm format     # Prettier フォーマット
```
